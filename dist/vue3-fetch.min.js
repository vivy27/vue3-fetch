var Vue3Fetch=function(e,r){"use strict";function t(e,r,t,n,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void t(e)}a.done?r(u):Promise.resolve(u).then(n,o)}function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){n(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(n=(c=a.next()).done)&&(t.push(c.value),!r||t.length!==r);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function u(e,n){var o=r.ref(!1),i=r.ref(!1),c=r.ref(!1),a=r.ref(null),u=r.ref(null),s=function(){var r,s=(r=regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o.value=!0,r.prev=1,r.next=4,fetch(e,n).then((function(e){return e.json()}));case 4:a.value=r.sent,i.value=!0,c.value=!1,r.next=14;break;case 9:r.prev=9,r.t0=r.catch(1),u.value=r.t0,i.value=!1,c.value=!0;case 14:return r.prev=14,o.value=!1,r.finish(14);case 17:case"end":return r.stop()}}),r,null,[[1,9,14,17]])})),function(){var e=this,n=arguments;return new Promise((function(o,i){var c=r.apply(e,n);function a(e){t(c,o,i,a,u,"next",e)}function u(e){t(c,o,i,a,u,"throw",e)}a(void 0)}))});return function(){return s.apply(this,arguments)}}();return r.onMounted((function(){"get"===n.method&&s()})),{isLoading:o,isSuccess:i,isError:c,data:a,error:u,execute:s}}var s={name:"vue3-fetch",props:{id:String,url:{type:String,required:!0},params:{type:Object,default:function(){}},method:{type:String,validator:function(e){return["get","post","put","delete"].includes(e)},default:"get"},headers:Object,payload:Object,referrer:String,referrerPolicy:{type:String,validator:function(e){return["no-referrer","no-referrer-when-downgrade","origin","origin-when-cross-origin","same-origin","strict-origin","strict-origin-when-cross-origin","unsafe-url"].includes(e)}},mode:{type:String,validator:function(e){return["cors","same-origin","no-cors"].includes(e)}},credentials:{type:String,validator:function(e){return["same-origin","omit","include"].includes(e)}},cache:{type:String,validator:function(e){return["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(e)}},redirect:{type:String,validator:function(e){return["follow","manual","error"].includes(e)}},integrity:String,keepAlive:Boolean,signal:[String,Number,Boolean,Array,Object,Function,Promise],stub:Object,save:{type:Boolean,default:!1}},setup:function(e,t){var n=e.id,o=e.url,a=e.params,s=e.method,l=e.headers,f=e.payload,d=e.referrer,p=e.referrerPolicy,y=e.mode,g=e.credentials,v=e.cache,h=e.redirect,b=e.integrity,m=e.keepAlive,O=e.signal,j=(e.save,t.emit),w=i(i(i(i(i(i(i(i(i(i(i({method:s},l&&{headers:l}),f&&{body:f}),d&&{referrer:d}),p&&{referrerPolicy:p}),y&&{mode:y}),g&&{credentials:g}),v&&{cache:v}),h&&{redirect:h}),b&&{integrity:b}),m&&{keepAlive:m}),O&&{signal:O}),S=a&&Object.keys(a).map((function(e){return e+"="+a[e]})).join("&"),P=u(a?"".concat(o,"?").concat(S):o,w),A=P.isLoading,k=P.isSuccess,E=P.isError,x=P.data,V=P.error,B=P.execute;r.computed((function(){return n||o.toString().replace(/\//g,"-")}));return r.watch([x,V],(function(e){var r=c(e,2),t=r[0],n=r[1];t&&j("fetch-success"),n&&j("fetch-error")})),r.watch((function(){return w}),B),{isLoading:A,isSuccess:k,isError:E,data:x,error:V,execute:B}}};s.render=function(e,t,n,o,i,c){return r.openBlock(),r.createBlock("div",{class:["vue-fetch",{"is-stubbed":!!n.stub}]},[r.renderSlot(e.$slots,"default",{isLoading:o.isLoading,isSuccess:o.isSuccess,isError:o.isError,data:o.data,error:o.error})],2)};var l=Object.freeze({__proto__:null,Vue3Fetch:s}),f=function(e){f.installed||(f.installed=!0,Object.entries(l).forEach((function(r){var t=c(r,2),n=t[0],o=t[1];e.component(n,o)})))},d={install:f},p=null;return"undefined"!=typeof window?p=window.Vue:"undefined"!=typeof global&&(p=global.Vue),p&&p.use(d),e.Vue3Fetch=s,e.default=d,e}({},Vue);